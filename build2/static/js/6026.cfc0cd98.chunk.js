"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[6026],{676026:(e,a,i)=>{i.r(a),i.d(a,{default:()=>v});var t=i(747313),n=i(809019),l=i(301550),o=i(624631),s=i(731095),d=i(536287),r=i(999519),c=i(534628),g=i(896217),m=i(405211),h=i(636671),p=i(576733),u=i.n(p),x=i(346417);function v(){var e,a,i,p,v,j,f,w,b;const[_,k]=(0,t.useState)(!1),[P,N]=(0,t.useState)(""),[Z,y]=(0,t.useState)({_id:"",tital:"",htag:"",ptag:"",banerImage:"",dronImage:"",howitworksImage:"",droneHireBg:"",getStartedImage:"",categoryDronImage:"",getStartedSection:{tital:"",quates:[{}]},howitworksection:{tital:"",subheading:"",content:"",option:[{points:[""]}]},appsection:{appstoreurl:"",content:"",playstoreurl:"",subheading:"",tital:""}}),I=(e,a)=>{const{name:i,value:t}=e.target;y((e=>{const n=[...e.howitworksection.option];return n[a]={...n[a],[i]:t},{...e,howitworksection:{...e.howitworksection,option:n}}}))},S=async()=>{try{const P=await fetch("".concat(d.ZP.url,"/admin/getHomePageContent"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)}}),R=await P.json();var e,a,i,t,n,l,o,s,r,c,g,m,h,p,u,x,v,j,f,w,b,_,k,N,Z,I,S,C,H,D,B;if("home content data get successfully"===R.message)console.log("data",R),y({_id:(null===(e=R.addHomecontent[0])||void 0===e?void 0:e._id)||"",tital:(null===(a=R.addHomecontent[0])||void 0===a?void 0:a.tital)||"",htag:(null===(i=R.addHomecontent[0])||void 0===i?void 0:i.htag)||"",ptag:(null===(t=R.addHomecontent[0])||void 0===t?void 0:t.ptag)||"",bannerContent1:(null===(n=R.addHomecontent[0])||void 0===n?void 0:n.bannerContent1)||"",bannerContent2:(null===(l=R.addHomecontent[0])||void 0===l?void 0:l.bannerContent2)||"",banerImage:(null===(o=R.addHomecontent[0])||void 0===o?void 0:o.banerImage)||"",howitworksImage:(null===(s=R.addHomecontent[0])||void 0===s?void 0:s.howitworksImage)||"",getStartedImage:(null===(r=R.addHomecontent[0])||void 0===r?void 0:r.getStartedImage)||"",droneHireBg:(null===(c=R.addHomecontent[0])||void 0===c?void 0:c.droneHireBg)||"",categoryDronImage:(null===(g=R.addHomecontent[0])||void 0===g?void 0:g.categoryDronImage)||"",dronImage:(null===(m=R.addHomecontent[0])||void 0===m?void 0:m.dronImage)||"",getStartedSection:(null===(h=R.addHomecontent[0])||void 0===h?void 0:h.getstartedsection)||{quates:[{}]},howitworksection:{tital:(null===(p=R.addHomecontent[0])||void 0===p||null===(u=p.howitworksection)||void 0===u?void 0:u.tital)||"",content:(null===(x=R.addHomecontent[0])||void 0===x||null===(v=x.howitworksection)||void 0===v?void 0:v.content)||"",subheading:(null===(j=R.addHomecontent[0])||void 0===j||null===(f=j.howitworksection)||void 0===f?void 0:f.subheading)||"",option:(null===(w=R.addHomecontent[0])||void 0===w||null===(b=w.howitworksection)||void 0===b?void 0:b.option)||[{points:[""]}]},appsection:{tital:(null===(_=R.addHomecontent[0])||void 0===_||null===(k=_.appsection)||void 0===k?void 0:k.tital)||"",content:(null===(N=R.addHomecontent[0])||void 0===N||null===(Z=N.appsection)||void 0===Z?void 0:Z.content)||"",subheading:(null===(I=R.addHomecontent[0])||void 0===I||null===(S=I.appsection)||void 0===S?void 0:S.subheading)||"",appstoreurl:(null===(C=R.addHomecontent[0])||void 0===C||null===(H=C.appsection)||void 0===H?void 0:H.appstoreurl)||"",playstoreurl:(null===(D=R.addHomecontent[0])||void 0===D||null===(B=D.appsection)||void 0===B?void 0:B.playstoreurl)||""}})}catch(P){console.log(P)}};(0,t.useEffect)((()=>{S()}),[]);return console.log("formData",Z),(0,x.jsx)("div",{children:(0,x.jsx)(n.ZP,{container:!0,style:{justifyContent:"center"},children:(0,x.jsxs)(n.ZP,{item:!0,xs:8,className:"box",children:[(0,x.jsx)("h1",{className:"top_heading_pages_text  ",children:"Home Page Content"}),(0,x.jsxs)(n.ZP,{className:"pages_global_background  p-4",container:!0,sx:{my:1},children:[(0,x.jsx)(n.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:(0,x.jsx)(h.CKEditor,{editor:u(),name:"bannerContent1",data:Z.bannerContent1,onChange:(e,a)=>{const i=a.getData();y((e=>({...e,bannerContent1:i})))},config:{heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"}]}}})}),(0,x.jsx)(n.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:(0,x.jsx)(h.CKEditor,{editor:u(),name:"bannerContent2",data:Z.bannerContent2,onChange:(e,a)=>{const i=a.getData();y((e=>({...e,bannerContent2:i})))},config:{heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"}]}}})}),(0,x.jsx)(n.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:(0,x.jsx)(h.CKEditor,{editor:u(),name:"ptag",data:Z.ptag,onChange:(e,a)=>{const i=a.getData();y((e=>({...e,ptag:i})))},config:{heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"}]}}})}),(0,x.jsxs)(n.ZP,{item:!0,xl:6,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:[(0,x.jsx)(l.Z,{fullWidth:!0,children:(0,x.jsx)("div",{className:"file-uploader",children:(0,x.jsxs)("label",{htmlFor:"file4",className:"global_file_upload_deisgn",children:[(0,x.jsx)(c.default,{}),"Background Image (Recommended size 1920px x 900px)",(0,x.jsx)("input",{type:"file",id:"file4",accept:"image/*,image/gif",onChange:e=>(e=>{const a=e.target.files[0];if(a){if(!["image/png","image/jpeg","image/jpg","image/gif"].includes(a.type))return void N("Unsupported file type. Please upload a PNG, JPEG, JPG, WEBP, or ZIP file.");const e=new FileReader;e.onloadend=()=>{y({...Z,banerImage:e.result})},e.readAsDataURL(a)}})(e)})]})})}),(0,x.jsxs)("div",{className:"preview_upload",children:[(0,x.jsx)("h4",{children:"Background Preview"}),Z.banerImage&&(0,x.jsx)("img",{src:Z.banerImage,alt:"Banner"})]})]}),(0,x.jsxs)(n.ZP,{item:!0,xl:6,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:[(0,x.jsx)(l.Z,{fullWidth:!0,children:(0,x.jsx)("div",{className:"file-uploader",children:(0,x.jsxs)("label",{htmlFor:"file5",className:"global_file_upload_deisgn",children:[(0,x.jsx)(c.default,{}),"How it work Image (Recommended size 480px x 560px)",(0,x.jsx)("input",{type:"file",id:"file5",accept:"image/*,image/gif",onChange:e=>(e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onloadend=()=>{y({...Z,howitworksImage:e.result})},e.readAsDataURL(a)}})(e)})]})})}),(0,x.jsxs)("div",{className:"preview_upload",children:[(0,x.jsx)("h4",{children:"Background Preview"}),Z.howitworksImage&&(0,x.jsx)("img",{src:Z.howitworksImage,alt:"Banner"})]})]}),(0,x.jsxs)(n.ZP,{item:!0,xl:6,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:[(0,x.jsx)(l.Z,{fullWidth:!0,children:(0,x.jsx)("div",{className:"file-uploader",children:(0,x.jsxs)("label",{htmlFor:"newImage2",className:"global_file_upload_deisgn",children:[(0,x.jsx)(c.default,{}),"Get Started Image (Recommended size 480px x 560px)",(0,x.jsx)("input",{type:"file",id:"newImage2",accept:"image/*,image/gif",onChange:e=>(e=>{const a=e.target.files[0];if(a){if(!["image/png","image/jpeg","image/jpg","image/gif"].includes(a.type))return void N("Unsupported file type. Please upload a PNG, JPEG, JPG, WEBP, or ZIP file.");const e=new FileReader;e.onloadend=()=>{y({...Z,getStartedImage:e.result})},e.readAsDataURL(a)}})(e)})]})})}),(0,x.jsxs)("div",{className:"preview_upload",children:[(0,x.jsx)("h4",{children:"Background Preview"}),Z.getStartedImage&&(0,x.jsx)("img",{src:Z.getStartedImage,alt:"Banner"})]})]}),(0,x.jsxs)(n.ZP,{item:!0,xl:6,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:[(0,x.jsx)(l.Z,{fullWidth:!0,children:(0,x.jsx)("div",{className:"file-uploader",children:(0,x.jsxs)("label",{htmlFor:"newImage3",className:"global_file_upload_deisgn",children:[(0,x.jsx)(c.default,{}),"Dron Hire Background Image (Recommended size 1996px x440px)",(0,x.jsx)("input",{type:"file",id:"newImage3",accept:"image/*,image/gif",onChange:e=>(e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onloadend=()=>{y({...Z,droneHireBg:e.result})},e.readAsDataURL(a)}})(e)})]})})}),(0,x.jsxs)("div",{className:"preview_upload",children:[(0,x.jsx)("h4",{children:"Background Preview"}),Z.droneHireBg&&(0,x.jsx)("img",{src:Z.droneHireBg,alt:"Banner"})]})]}),(0,x.jsxs)(n.ZP,{item:!0,xl:6,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:[(0,x.jsx)(l.Z,{fullWidth:!0,children:(0,x.jsx)("div",{className:"file-uploader",children:(0,x.jsxs)("label",{htmlFor:"categoryDronImage",className:"global_file_upload_deisgn",children:[(0,x.jsx)(c.default,{}),"Category Drone Image (Recommended size 526px x 388px)",(0,x.jsx)("input",{type:"file",id:"categoryDronImage",accept:"image/*,image/gif",onChange:e=>(e=>{const a=e.target.files[0];if(a){if(!["image/png","image/jpeg","image/jpg","image/gif"].includes(a.type))return void N("Unsupported file type. Please upload a PNG, JPEG, JPG, WEBP, or ZIP file.");const e=new FileReader;e.onloadend=()=>{y({...Z,categoryDronImage:e.result})},e.readAsDataURL(a)}})(e)})]})})}),(0,x.jsxs)("div",{className:"preview_upload",children:[(0,x.jsx)("h4",{children:"Background Preview"}),Z.categoryDronImage&&(0,x.jsx)("img",{src:Z.categoryDronImage,alt:"Banner"})]})]}),(0,x.jsxs)(n.ZP,{item:!0,xl:6,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:[(0,x.jsx)(l.Z,{fullWidth:!0,children:(0,x.jsx)("div",{className:"file-uploader",children:(0,x.jsxs)("label",{htmlFor:"file16",className:"global_file_upload_deisgn",children:[(0,x.jsx)(c.default,{}),"Drone Images (Recommended size 1080px x 485px)",(0,x.jsx)("input",{type:"file",id:"file16",accept:"image/*,image/gif",onChange:e=>(e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onloadend=()=>{y({...Z,dronImage:e.result})},e.readAsDataURL(a)}})(e)})]})})}),(0,x.jsxs)("div",{className:"preview_upload",children:[Z.dronImage&&(0,x.jsx)("img",{src:Z.dronImage,alt:"drone"}),Z.dronImage&&(0,x.jsx)("button",{onClick:()=>{y({...Z,dronImage:""})},style:{color:"red",outline:"none",border:"none"},children:(0,x.jsx)(g.default,{style:{width:"20px"}})})]})]}),Z.getStartedSection&&Z.getStartedSection.quates?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-1 p-2",children:(0,x.jsx)("h6",{className:"",children:(0,x.jsx)("strong",{children:"Get Started Section"})})}),(0,x.jsx)(n.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:(0,x.jsx)(h.CKEditor,{editor:u(),name:"tital",data:null===Z||void 0===Z||null===(e=Z.getStartedSection)||void 0===e?void 0:e.tital,onChange:(e,a)=>{const i=a.getData();y((e=>({...e,getStartedSection:{...e.getStartedSection,tital:i}})))},config:{heading:{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h1",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h2",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h3",title:"Heading 3",class:"ck-heading_heading3"}]}}})}),null===Z||void 0===Z||null===(a=Z.getStartedSection)||void 0===a||null===(i=a.quates)||void 0===i?void 0:i.map(((e,a)=>(0,x.jsxs)(n.ZP,{container:!0,children:[(0,x.jsx)(n.ZP,{item:!0,xl:6,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:(0,x.jsx)(l.Z,{fullWidth:!0,children:(0,x.jsx)(o.Z,{variant:"outlined",label:"Title",name:"tital_".concat(a),value:e.tital||"",onChange:e=>((e,a)=>{const i={...Z.getStartedSection};i.quates[a].tital=e.target.value,y({...Z,getStartedSection:i})})(e,a)})})}),(0,x.jsx)(n.ZP,{item:!0,xl:6,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:(0,x.jsx)(l.Z,{fullWidth:!0,children:(0,x.jsx)(o.Z,{variant:"outlined",label:"Subheading",name:"subheading_".concat(a),value:e.subheading||"",onChange:e=>((e,a)=>{const i={...Z.getStartedSection};i.quates[a].subheading=e.target.value,y({...Z,getStartedSection:i})})(e,a)})})}),(0,x.jsxs)(n.ZP,{item:!0,xs:12,className:"mb-4 p-2",children:[(0,x.jsx)(l.Z,{fullWidth:!0,children:(0,x.jsx)("div",{className:"file-uploader",children:(0,x.jsxs)("label",{htmlFor:"file25".concat(e._id),className:"global_file_upload_deisgn",children:[(0,x.jsx)(c.default,{}),a," Image",(0,x.jsx)("input",{type:"file",id:"file25".concat(e._id),accept:"image/*,image/gif",onChange:e=>((e,a)=>{const i={...Z.getStartedSection};i.quates[a]||(i.quates[a]={});const t=e.target.files[0];if(t){if(!["image/png","image/jpeg","image/jpg","image/gif"].includes(t.type))return void N("Unsupported file type. Please upload a PNG, JPEG, JPG,or ZIP file.");const e=new FileReader;e.onloadend=()=>{i.quates[a].image=e.result,y({...Z,getStartedSection:i})},console.log("State after update:",Z),e.readAsDataURL(t)}})(e,a)})]})})}),e.image&&(0,x.jsxs)("div",{className:"preview_upload",children:[(0,x.jsx)("h4",{children:"Image Preview"}),(0,x.jsx)("img",{src:e.image,alt:"Quote: ".concat(e.tital)})]})]})]},e._id)))]}):(0,x.jsx)("p",{children:"Get Started Section is empty"}),(0,x.jsx)("br",{}),null!==Z&&void 0!==Z&&Z.howitworksection&&null!==Z&&void 0!==Z&&Z.howitworksection?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(n.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:(0,x.jsx)("h6",{className:"",children:(0,x.jsx)("strong",{children:"How It Works Section"})})}),(0,x.jsx)(n.ZP,{item:!0,xl:6,lg:6,md:12,sm:12,xs:12,className:"mb-4 p-2",children:(0,x.jsx)(l.Z,{className:"mb-2",fullWidth:!0,children:(0,x.jsx)(o.Z,{variant:"outlined",label:"tital",name:"tital",value:null===Z||void 0===Z||null===(p=Z.howitworksection)||void 0===p?void 0:p.tital,onChange:e=>I(e)})})}),(0,x.jsx)(n.ZP,{item:!0,xl:6,lg:6,md:12,sm:12,xs:12,className:"mb-4 p-2",children:(0,x.jsx)(l.Z,{className:"mb-2",fullWidth:!0,children:(0,x.jsx)(o.Z,{variant:"outlined",label:"Subheading",name:"subheading",value:null===Z||void 0===Z||null===(v=Z.howitworksection)||void 0===v?void 0:v.subheading,onChange:e=>I(e)})})}),(0,x.jsx)(n.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:(0,x.jsx)(l.Z,{className:"mb-2",fullWidth:!0,children:(0,x.jsx)(o.Z,{variant:"outlined",label:"Content",name:"content",value:null===Z||void 0===Z||null===(j=Z.howitworksection)||void 0===j?void 0:j.content,onChange:e=>I(e),multiline:!0,rows:4})})}),(null===Z||void 0===Z||null===(f=Z.howitworksection)||void 0===f?void 0:f.option)&&(null===Z||void 0===Z||null===(w=Z.howitworksection)||void 0===w||null===(b=w.option)||void 0===b?void 0:b.map(((e,a)=>(0,x.jsxs)(n.ZP,{item:!0,xs:12,children:[(0,x.jsx)(l.Z,{className:"mb-4 p-2",fullWidth:!0,children:(0,x.jsx)(o.Z,{variant:"outlined",label:"tital",name:"tital",value:null===e||void 0===e?void 0:e.tital,onChange:e=>I(e,a)})}),e.points.map(((e,i)=>(0,x.jsxs)("div",{className:"point_keys",children:[(0,x.jsx)(l.Z,{className:"mb-4 p-2",fullWidth:!0,children:(0,x.jsx)(o.Z,{variant:"outlined",label:"Point ".concat(i+1),name:"point_".concat(i+1),value:e,onChange:e=>((e,a,i)=>{const{value:t}=e.target;y((e=>{const n=[...e.howitworksection.option];return n[a].points[i]=t,{...e,howitworksection:{...e.howitworksection,option:n}}}))})(e,a,i)})}),(0,x.jsx)(s.Z,{className:"close_key",onClick:()=>((e,a)=>{y((i=>{const t=[...i.howitworksection.option];return t[e].points.splice(a,1),{...i,howitworksection:{...i.howitworksection,option:t}}}))})(a,i),style:{color:"red"},children:(0,x.jsx)(g.default,{})})]},i))),(0,x.jsx)("div",{className:"text-end",children:(0,x.jsxs)(s.Z,{onClick:()=>(e=>{y((a=>{const i=[...a.howitworksection.option];return i[e].points.push(""),{...a,howitworksection:{...a.howitworksection,option:i}}}))})(a),children:[(0,x.jsx)(m.default,{}),"Add New"]})}),(0,x.jsx)("div",{className:"file-uploader",children:(0,x.jsxs)("label",{htmlFor:"file25".concat(e._id),className:"global_file_upload_deisgn",children:[(0,x.jsx)(c.default,{}),"Image",(0,x.jsx)("input",{type:"file",id:"file25".concat(e._id),accept:"image/*,image/gif",onChange:e=>((e,a)=>{const i={...Z.howitworksection};i.option[a]||(i.option[a]={});const t=e.target.files[0];if(t){if(!["image/png","image/jpeg","image/jpg","image/gif"].includes(t.type))return void N("Unsupported file type. Please upload a PNG, JPEG, JPG,  or ZIP file.");const e=new FileReader;e.onloadend=()=>{i.option[a].image=e.result,y({...Z,howitworksection:i})},e.readAsDataURL(t),N("")}})(e,a)})]})}),e.image&&(0,x.jsxs)("div",{className:"preview_upload",children:[(0,x.jsx)("h4",{children:"Image Preview"}),(0,x.jsx)("img",{src:e.image,alt:"Quote: ".concat(e.tital)})]}),(0,x.jsx)(s.Z,{onClick:()=>(e=>{const a={...Z};a.howitworksection.option.splice(e,1),y(a)})(a),style:{color:"red"},children:"Delete Option"})]},a)))),(0,x.jsx)(s.Z,{onClick:()=>{const e={...Z};e.howitworksection.option.push({title:"",points:[""],image:null}),y(e)},children:"Add New Option"}),(0,x.jsx)(n.ZP,{item:!0,xs:12,children:P&&(0,x.jsx)("span",{style:{color:"red",fontSize:"14px"},children:P})})]}):(0,x.jsx)("p",{children:"How It Works Section is empty"}),(0,x.jsx)(n.ZP,{container:!0,sx:{my:2},style:{textAlign:"end"},children:(0,x.jsx)(n.ZP,{item:!0,xs:12,children:_?(0,x.jsxs)(s.Z,{className:"global_dashbtn",children:[(0,x.jsx)("div",{className:"spinner-border spinner-border-sm me-1",role:"status"})," Loading ..."]}):(0,x.jsx)(s.Z,{className:"global_dashbtn",onClick:()=>(async()=>{try{k(!0);const e=await fetch("".concat(d.ZP.url,"/admin/updateHomePageContent/").concat(Z._id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)},body:JSON.stringify(Z)});"home content update successfully"===(await e.json()).message?((0,r.dr)("home content update successfully !!"),k(!1),S()):((0,r.YE)("Something Wen't Wrong !!"),k(!1))}catch(P){console.log(P)}})(),children:"Update"})})})]})]})})})}},405211:(e,a,i)=>{var t=i(564836);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n=t(i(945045)),l=i(346417),o=(0,n.default)((0,l.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");a.default=o}}]);