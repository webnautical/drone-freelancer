"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[7058],{837058:(e,n,t)=>{t.r(n),t.d(n,{default:()=>S});var i=t(557829),a=t(809019),l=t(585281),s=t(617592),d=t(366835),c=t(157861),r=t(770941),o=t(619438),h=t(751629),x=t(823477),j=t(924076),u=t(270501),m=t(747313),p=t(731095),v=t(42832),g=t(777970),f=t(489332),Z=t(861689),_=t(118197),b=t(329814),y=t(738085),k=t(588551),w=t(258467),C=t(346417);const N=(0,s.ZP)(r.Z)((e=>{let{theme:n}=e;return{["&.".concat(o.Z.head)]:{backgroundColor:"#1890ff",color:n.palette.common.white},["&.".concat(o.Z.body)]:{fontSize:14}}})),P=(0,s.ZP)(j.Z)((e=>{let{theme:n}=e;return{"&:nth-of-type(odd)":{backgroundColor:n.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),S=()=>{const[e,n]=(0,m.useState)([]),t=(0,w.s0)(),[s,r]=(0,m.useState)(1),[o,S]=(0,m.useState)(),[D,I]=(0,m.useState)(!0),z=async e=>{I(!0);try{var t;const a={page:e},l=await _.b.post("/admin/getalladminnotification",a);var i;if(200==(null===l||void 0===l||null===(t=l.data)||void 0===t?void 0:t.status))S(l.data.totalRecords),n(null===l||void 0===l||null===(i=l.data)||void 0===i?void 0:i.data),I(!1);else n([]),I(!1)}catch(a){n([]),I(!1)}};(0,m.useEffect)((()=>{z(s)}),[]);return(0,C.jsx)(C.Fragment,{children:D?(0,C.jsx)("div",{className:"loader",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:(0,C.jsx)(i.Z,{children:(0,C.jsx)(l.Z,{size:60})})}):(0,C.jsxs)(b.Z,{children:[(0,C.jsx)("div",{className:"dahbard_table top_tab_bar",children:(0,C.jsx)("div",{children:(0,C.jsx)("h2",{children:"Notification List"})})}),(0,C.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,C.jsx)(a.ZP,{item:!0,xs:12,lg:12,children:(0,C.jsx)(h.Z,{component:u.Z,children:(0,C.jsxs)(d.Z,{sx:{minWidth:700},"aria-label":"customized table",children:[(0,C.jsx)(x.Z,{children:(0,C.jsxs)(j.Z,{children:[(0,C.jsx)(N,{align:"center",children:"S.No."}),(0,C.jsx)(N,{children:"Message"}),(0,C.jsx)(N,{align:"center",children:"Date/Time"}),(0,C.jsx)(N,{align:"center",children:"Action"})]})}),(0,C.jsx)(c.Z,{children:e.map(((i,a)=>{var l;return(0,C.jsxs)(P,{children:[(0,C.jsx)(N,{component:"th",scope:"row",align:"center",children:20*(s-1)+a+1}),(0,C.jsx)(N,{children:null!==i&&void 0!==i&&i.updated_key?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("strong",{className:"text-uppercase",children:i.user_name})," has updated their ",(0,C.jsx)("strong",{children:null===i||void 0===i||null===(l=i.updated_key)||void 0===l?void 0:l.replace(/_/g," ")})," - (",i.updated_value,")"]}):(0,C.jsx)("span",{children:null===i||void 0===i?void 0:i.message})}),(0,C.jsx)(N,{align:"center",children:(0,y.S)(i.created_at)}),(0,C.jsx)(N,{align:"left",children:(0,C.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",gap:"10px"},children:[(0,C.jsx)(p.Z,{className:"view_btn action-btn d-block",onClick:()=>(async e=>{if(null!==e&&void 0!==e&&e.typeId)t("/admin/postedjob");else{const n="/profile-details/".concat(e.user_id);window.open(n,"_blank")}})(i),children:(0,C.jsx)(Z.Z,{title:"View Details",children:(0,C.jsx)(f.default,{})})}),(0,C.jsx)(p.Z,{className:"view_btn text-danger action-btn d-block",onClick:()=>(async t=>{const i=null===e||void 0===e?void 0:e.filter((e=>e._id!==t._id));1==e.length&&z(),n(i);const a={id:null===t||void 0===t?void 0:t._id};await _.b.post("/admin/seenadminnotification",a)})(i),children:(0,C.jsx)(Z.Z,{title:"Remove Notification",children:(0,C.jsx)(k.XSi,{})})})]})})]},i._id)}))})]})})}),o>10&&(0,C.jsx)(a.ZP,{container:!0,justifyContent:"center",className:"pageInation_box",children:(0,C.jsx)(a.ZP,{item:!0,xl:6,lg:8,md:10,sm:12,children:(0,C.jsx)(v.Z,{spacing:2,children:(0,C.jsx)(g.Z,{count:Math.ceil(o/20),page:s,onChange:(e,n)=>(e=>{r(e),z(e)})(n),variant:"outlined",shape:"rounded"})})})}),0==(null===e||void 0===e?void 0:e.length)&&(0,C.jsx)(a.ZP,{container:!0,justifyContent:"center",className:"pageInation_box",children:(0,C.jsx)(a.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,children:(0,C.jsx)("h6",{className:"text-center mt-4",children:"Do'nt have any deleted users"})})})]})]})})}}}]);