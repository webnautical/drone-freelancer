"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[945],{40945:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var a=n(809019),l=n(258467),s=n(329814),c=n(624631),r=n(617592),i=n(366835),o=n(157861),d=n(770941),h=n(619438),u=n(751629),f=n(823477),m=n(924076),j=n(270501),x=n(747313),p=n(731095),g=n(42832),b=n(777970),Z=n(427710),_=n(896217),y=n(489332),P=n(536287),v=n(861689),C=(n(980281),n(502312)),S=n(999519),w=n(738085),k=n(346417);const N=(0,r.ZP)(d.Z)((e=>{let{theme:t}=e;return{["&.".concat(h.Z.head)]:{backgroundColor:"#1890ff",color:t.palette.common.white},["&.".concat(h.Z.body)]:{fontSize:14}}})),E=(0,r.ZP)(m.Z)((e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),z=()=>{const e=(0,l.s0)(),[t,n]=(0,x.useState)(1),[r,d]=(0,x.useState)([]),[h,z]=(0,x.useState)([]),[L,T]=(0,x.useState)("");(0,x.useEffect)((()=>{(async()=>{try{fetch("".concat(P.ZP.url,"/admin/getInactiveUsersRecored"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)},body:JSON.stringify({role:"Poster"})}).then((e=>e.json())).then((e=>{"User data get successfully"===e.message&&(z(e.userRecord),d(e.userRecord))}))}catch(e){console.log(e)}})()}),[]);const D=20*t,U=D-20,A=h.slice(U,D);return(0,k.jsxs)(s.Z,{children:[(0,k.jsxs)("div",{className:"dahbard_table top_tab_bar",children:[(0,k.jsx)("div",{children:(0,k.jsx)("h2",{children:"Poster List"})}),(0,k.jsxs)("div",{className:"input-box",children:[(0,k.jsx)(p.Z,{className:"global_dashbtn text-end me-3",onClick:()=>{(0,S.S5)((e=>null===e||void 0===e?void 0:e.map((e=>({"First Name":e.first_name,"Last Name":e.last_name,Email:e.email,"Phone Number":e.phone,Street:e.street,Suburb:e.Suburb,State:e.state,Country:e.country,Role:e.role}))))(h),"PosterList","Poster")},children:"Export to Excel"}),(0,k.jsx)(c.Z,{id:"demo-helper-text-aligned-no-helper ",label:"Search by Name ",value:L,onChange:e=>{const t=e.target.value;T(t);const n=r.filter((e=>e.first_name.toLowerCase().includes(t.toLowerCase())));z(n)}})]})]}),(0,k.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,k.jsx)(a.ZP,{item:!0,xs:12,lg:12,children:(0,k.jsx)(u.Z,{component:j.Z,className:"dahbard_table_inner",children:(0,k.jsxs)(i.Z,{sx:{minWidth:700},"aria-label":"customized table",children:[(0,k.jsx)(f.Z,{children:(0,k.jsxs)(m.Z,{children:[(0,k.jsx)(N,{align:"left",children:"S.No."}),(0,k.jsx)(N,{align:"left",children:"Name"}),(0,k.jsx)(N,{align:"left",children:"Email"}),(0,k.jsx)(N,{align:"left",children:"Phone"}),(0,k.jsx)(N,{align:"left",children:"User Type"}),(0,k.jsx)(N,{align:"left",children:"Created Date"}),(0,k.jsx)(N,{align:"left",children:"Action"})]})}),(0,k.jsx)(o.Z,{children:A.map(((n,a)=>(0,k.jsxs)(E,{children:[(0,k.jsx)(N,{component:"th",scope:"row",align:"left",children:20*(t-1)+a+1}),(0,k.jsxs)(N,{align:"center",children:[n.first_name," ",n.last_name]}),(0,k.jsx)(N,{align:"center",children:n.email}),(0,k.jsx)(N,{align:"center",children:n.phone}),(0,k.jsx)(N,{align:"center",children:n.role}),(0,k.jsx)(N,{align:"center",children:(0,w.S)(n.created_at)}),(0,k.jsx)(N,{align:"left",children:(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",gap:"10px"},children:[(0,k.jsx)("div",{children:(0,k.jsx)(p.Z,{className:"edit_btn_global action-btn d-block",onClick:()=>{!function(t){e("".concat(P.ZP.basename,"/utils/updatePoster"),{state:{data:t}})}(n)},children:(0,k.jsx)(v.Z,{title:"Edit",children:(0,k.jsx)(Z.default,{})})})}),(0,k.jsx)(p.Z,{className:"dlt_btn action-btn d-block",onClick:e=>{return t=e,a=n._id,t.preventDefault(),d((e=>e.filter((e=>e._id!==a)))),setTimeout((()=>{}),1e3),void fetch("".concat(P.ZP.url,"/admin/userdelete/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)}}).then((e=>e.json())).then((e=>{"user deleted successfully"===e.message&&window.location.reload()}));var t,a},children:(0,k.jsx)(v.Z,{title:"Delete",children:(0,k.jsx)(_.default,{})})}),(0,k.jsx)(p.Z,{className:"view_btn action-btn d-block",onClick:()=>function(t){e("".concat(P.ZP.basename,"/posterdata"),{state:t})}(n),children:(0,k.jsx)(v.Z,{title:"View Details",children:(0,k.jsx)(y.default,{})})}),"Pilot"===n.role&&(0,k.jsx)(p.Z,{className:"product_view action-btn d-block",onClick:()=>function(e){try{fetch("".concat(P.ZP.url,"/admin/createpreffredlocation/").concat(e._id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)}}).then((e=>e.json())).then((e=>{"create prefferd successfully"===e.message?(0,S.dr)("create prefferd successfully!"):"Un prefferd successfully"===e.message?(0,S.dr)("Un prefferd successfully"):(0,S.YE)("something want wrong")}))}catch(t){console.log(t)}}(n),children:(0,k.jsx)(v.Z,{title:"Preferred",children:(0,k.jsx)(C.default,{})})})]})})]},n._id)))})]})})}),(0,k.jsx)(a.ZP,{container:!0,justifyContent:"center",className:"pageInation_box",children:(0,k.jsx)(a.ZP,{item:!0,xl:6,lg:8,md:10,sm:12,children:(0,k.jsx)(g.Z,{spacing:2,children:(0,k.jsx)(b.Z,{count:Math.ceil(h.length/20),page:t,onChange:(e,t)=>n(t),variant:"outlined",shape:"rounded"})})})})]})]})}},502312:(e,t,n)=>{var a=n(564836);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=a(n(945045)),s=n(346417),c=(0,l.default)((0,s.jsx)("path",{d:"M9.68 13.69 12 11.93l2.31 1.76-.88-2.85L15.75 9h-2.84L12 6.19 11.09 9H8.25l2.31 1.84-.88 2.85zM20 10c0-4.42-3.58-8-8-8s-8 3.58-8 8c0 2.03.76 3.87 2 5.28V23l6-2 6 2v-7.72c1.24-1.41 2-3.25 2-5.28zm-8-6c3.31 0 6 2.69 6 6s-2.69 6-6 6-6-2.69-6-6 2.69-6 6-6z"}),"WorkspacePremium");t.default=c}}]);