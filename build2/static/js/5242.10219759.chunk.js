"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[5242],{55242:(e,n,t)=>{t.r(n),t.d(n,{default:()=>k});var a=t(809019),l=t(258467),s=t(329814),i=t(624631),c=t(617592),d=t(366835),r=t(157861),o=t(770941),h=t(619438),m=t(751629),u=t(823477),x=t(924076),j=t(270501),g=t(747313),b=t(731095),p=t(42832),f=t(777970),Z=t(896217),_=t(489332),y=t(536287),v=t(861689),S=(t(980281),t(999519)),C=t(346417);const w=(0,c.ZP)(o.Z)((e=>{let{theme:n}=e;return{["&.".concat(h.Z.head)]:{backgroundColor:"#1890ff",color:n.palette.common.white},["&.".concat(h.Z.body)]:{fontSize:14}}})),P=(0,c.ZP)(x.Z)((e=>{let{theme:n}=e;return{"&:nth-of-type(odd)":{backgroundColor:n.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),k=()=>{const e=(0,l.s0)(),[n,t]=(0,g.useState)(1),[c,o]=(0,g.useState)([]),[h,k]=(0,g.useState)([]),[N,E]=(0,g.useState)("");(0,g.useEffect)((()=>{(async()=>{try{fetch("".concat(y.ZP.url,"/admin/getSubAdminList"),{method:"POST",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>{"get data successfully"===e.message?(console.log(e.getadmindata,"data.getadmindata"),k(e.getadmindata),o(e.getadmindata)):"data not get successfully"===e.message&&(k([]),o([]))}))}catch(e){console.log(e)}})()}),[]);const A=20*n,D=A-20,T=h.slice(D,A);return(0,C.jsxs)(s.Z,{children:[(0,C.jsxs)("div",{className:"dahbard_table top_tab_bar",children:[(0,C.jsx)("div",{children:(0,C.jsx)("h2",{children:"Sub admin"})}),(0,C.jsx)("div",{style:{textAlign:"right"},children:(0,C.jsx)(b.Z,{className:"edit_btn action-btn d-block",onClick:()=>{e("".concat(y.ZP.basename,"/utils/addnewsubadmin"))},children:(0,C.jsx)("div",{className:"global_dashbtn",children:"Add New Subadmin"})})}),(0,C.jsx)("div",{className:"input-box",children:(0,C.jsx)(i.Z,{id:"demo-helper-text-aligned-no-helper ",label:"Search by Name and Phone",value:N,onChange:e=>{const n=e.target.value;E(n);const t=c.filter((e=>e.first_name.toLowerCase().includes(n.toLowerCase())));k(t)}})})]}),(0,C.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,C.jsx)(a.ZP,{item:!0,xs:12,lg:12,children:(0,C.jsx)(m.Z,{component:j.Z,children:(0,C.jsxs)(d.Z,{sx:{minWidth:700},"aria-label":"customized table",children:[(0,C.jsx)(u.Z,{children:(0,C.jsxs)(x.Z,{children:[(0,C.jsx)(w,{align:"center",children:"S.No."}),(0,C.jsx)(w,{align:"center",children:"Name"}),(0,C.jsx)(w,{align:"center",children:"Email"}),(0,C.jsx)(w,{align:"center",children:"Phone"}),(0,C.jsx)(w,{align:"center",children:"User Type"}),(0,C.jsx)(w,{align:"center",children:"Action"})]})}),(0,C.jsx)(r.Z,{children:T.reverse().map(((t,a)=>(0,C.jsxs)(P,{children:[(0,C.jsx)(w,{component:"th",scope:"row",align:"center",children:20*(n-1)+a+1}),(0,C.jsxs)(w,{align:"center",children:[" ",t.name]}),(0,C.jsx)(w,{align:"center",children:t.email}),(0,C.jsx)(w,{align:"center",children:t.phone}),(0,C.jsx)(w,{align:"center",children:t.role}),(0,C.jsx)(w,{align:"left",children:(0,C.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"center",gap:"10px"},children:[(0,C.jsx)("div",{}),(0,C.jsx)(b.Z,{className:"dlt_btn action-btn d-block",onClick:e=>{return n=e,a=t._id,n.preventDefault(),void fetch("".concat(y.ZP.url,"/admin/Subadmindelete/").concat(a),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)}}).then((e=>e.json())).then((e=>{"Subadmin deleted successfully"===e.message?((0,S.dr)("Subadmin deleted successfully"),window.location.reload()):(0,S.YE)("Subadmin not deleted successfully")}));var n,a},children:(0,C.jsx)(v.Z,{title:"Delete",children:(0,C.jsx)(Z.default,{})})}),(0,C.jsx)(b.Z,{className:"view_btn action-btn d-block",onClick:()=>function(n){e("".concat(y.ZP.basename,"/user-details"),{state:n})}(t),children:(0,C.jsx)(v.Z,{title:"View Details",children:(0,C.jsx)(_.default,{})})})]})})]},t._id)))})]})})}),(0,C.jsx)(a.ZP,{container:!0,justifyContent:"center",className:"pageInation_box",children:(0,C.jsx)(a.ZP,{item:!0,xl:6,lg:8,md:10,sm:12,children:(0,C.jsx)(p.Z,{spacing:2,children:(0,C.jsx)(f.Z,{count:Math.ceil(h.length/20),page:n,onChange:(e,n)=>t(n),variant:"outlined",shape:"rounded"})})})})]})]})}}}]);