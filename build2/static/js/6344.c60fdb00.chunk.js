"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[6344],{836344:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var l=n(809019),s=n(557829),a=n(585281),i=n(258467),c=n(617592),o=n(366835),d=n(157861),r=n(624631),h=n(770941),j=n(619438),x=n(751629),u=n(823477),m=n(924076),g=n(270501),b=n(777970),f=n(427710),p=n(747313),Z=n(731095),_=n(42832),y=n(861689),C=n(896217),v=n(489332),k=n(536287),w=(n(980281),n(835705)),S=n(999519),P=n(738085),N=n(346417);const E=(0,c.ZP)(h.Z)((e=>{let{theme:t}=e;return{["&.".concat(j.Z.head)]:{backgroundColor:"#1890ff",color:t.palette.common.white},["&.".concat(j.Z.body)]:{fontSize:14}}})),J=(0,c.ZP)(m.Z)((e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),z=()=>{const e=(0,i.s0)(),[t,n]=(0,p.useState)(1),[c,h]=(0,p.useState)([]),[j,z]=(0,p.useState)(!1),[T,A]=(0,p.useState)([]),[D,I]=(0,p.useState)("");(0,p.useEffect)((()=>{(async()=>{z(!0);try{fetch("".concat(k.ZP.url,"/user/getAllPostedJobs"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)}}).then((e=>e.json())).then((e=>{"get data successfully"===e.message&&(A(e.getpostedjob),h(e.getpostedjob),z(!1))}))}catch(e){console.log(e),z(!1)}})()}),[]);const B=20*t,L=B-20,W=T.slice(L,B);return(0,N.jsxs)("div",{children:[(0,N.jsxs)("div",{className:"top_tab_bar",children:[(0,N.jsx)("div",{children:(0,N.jsx)("h2",{children:"Posted Jobs"})}),(0,N.jsx)("div",{className:"input-box",children:(0,N.jsx)(r.Z,{id:"demo-helper-text-aligned-no-helper ",label:"Search by Job title",value:D,onChange:e=>{const t=e.target.value;I(t);const n=c.filter((e=>e.job_details.name.toLowerCase().includes(t.toLowerCase())));A(n)}})})]}),(0,N.jsx)(l.ZP,{container:!0,spacing:3,children:j?(0,N.jsx)("div",{className:"loader",style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"},children:(0,N.jsx)(s.Z,{children:(0,N.jsx)(a.Z,{size:60})})}):(0,N.jsxs)(l.ZP,{item:!0,xs:12,lg:12,children:[(0,N.jsx)(x.Z,{component:g.Z,className:"dahbard_table_inner",children:(0,N.jsxs)(o.Z,{sx:{minWidth:700},"aria-label":"customized table",children:[(0,N.jsx)(u.Z,{children:(0,N.jsxs)(m.Z,{children:[(0,N.jsx)(E,{align:"left",children:"S.No."}),(0,N.jsx)(E,{align:"left",children:" Job Title"}),(0,N.jsx)(E,{align:"left",children:"Work due date"}),(0,N.jsx)(E,{align:"left",children:"Name"}),(0,N.jsx)(E,{align:"left",children:"Email"}),(0,N.jsx)(E,{align:"left",children:"Send message"}),(0,N.jsx)(E,{align:"left",children:"Action"})]})}),(0,N.jsx)(d.Z,{children:W.map(((n,l)=>(0,N.jsxs)(J,{children:[(0,N.jsx)(E,{component:"th",scope:"row",align:"left",children:20*(t-1)+l+1}),(0,N.jsx)(E,{align:"center",children:n.job_details.name}),(0,N.jsx)(E,{align:"center",children:(0,P.S)(n.created_at)}),(0,N.jsx)(E,{align:"center",children:n.userName}),(0,N.jsx)(E,{align:"center",children:n.userEmail}),(0,N.jsx)(E,{align:"center",children:(0,N.jsx)(Z.Z,{className:"view_btn action-btn d-block",onClick:()=>e("".concat(k.ZP.basename,"/sendmessage"),{state:{_id:n.user_id}}),children:(0,N.jsx)(y.Z,{title:"Send message",children:(0,N.jsx)(w.default,{})})})}),(0,N.jsx)(E,{align:"center",children:(0,N.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"start",alignItems:"center",gap:"11px"},children:[(0,N.jsx)("div",{children:(0,N.jsx)(Z.Z,{className:"edit_btn_global action-btn d-block",onClick:t=>{!function(t,n){e("".concat(k.ZP.basename,"/utils/updateposte"),{state:{data:n}})}(0,n)},children:(0,N.jsx)(y.Z,{title:"edit ",children:(0,N.jsx)(f.default,{})})})}),(0,N.jsx)(Z.Z,{className:"dlt_btn action-btn d-block",onClick:()=>{return e=n._id,void fetch("".concat(k.ZP.url,"/user/deleteJobById/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)}}).then((e=>e.json())).then((e=>{console.log(e),200===e.status?(0,S.dr)("Job deleted successfully"):(0,S.YE)("Something want wrong")}));var e},children:(0,N.jsx)(y.Z,{title:"Delete",children:(0,N.jsx)(C.default,{})})}),(0,N.jsx)(Z.Z,{className:"view_btn action-btn d-block",onClick:()=>function(t){e("".concat(k.ZP.basename,"/job-details"),{state:t})}(n),children:(0,N.jsx)(y.Z,{title:"View Details",children:(0,N.jsx)(v.default,{})})})]})})]},n._id)))})]})}),(0,N.jsx)(l.ZP,{container:!0,justifyContent:"center",className:"pageInation_box",children:(0,N.jsx)(l.ZP,{item:!0,xl:6,lg:8,md:10,sm:12,children:(0,N.jsx)(_.Z,{spacing:2,children:(0,N.jsx)(b.Z,{count:Math.ceil(T.length/20),page:t,onChange:(e,t)=>n(t),variant:"outlined",shape:"rounded"})})})})]})})]})}}}]);