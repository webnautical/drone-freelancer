"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[7391],{527391:(e,a,t)=>{t.r(a),t.d(a,{default:()=>j});var n=t(747313),l=t(261113),s=t(947131),i=t(923195),d=t(258467),r=t(142461),c=t(809019),m=t(301550),u=t(624631),o=t(731095),p=t(536287),h=(t(980281),t(999519)),x=t(346417);const j=()=>{const e=(0,d.s0)(),a=(0,d.TH)().state.data;console.log(a,"dhdhh");const[t,j]=(0,n.useState)(a.plan_name),[_,g]=(0,n.useState)(a.plan_type),[Z,v]=(0,n.useState)(a.radius),[b,f]=(0,n.useState)(a.amount),[y,P]=(0,n.useState)(a.plan_description),[N,C]=(0,n.useState)(""),[S,k]=(0,n.useState)(a.included_point);return(0,x.jsx)("div",{children:(0,x.jsx)(c.ZP,{container:!0,style:{justifyContent:"center"},children:(0,x.jsxs)(c.ZP,{item:!0,xs:8,className:"box",children:[(0,x.jsx)("h2",{className:"top_heading_pages_text",children:"Update Plan"}),(0,x.jsxs)(c.ZP,{className:"pages_global_background p-4",container:!0,sx:{my:1},children:[(0,x.jsx)(c.ZP,{item:!0,xl:6,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:(0,x.jsx)(m.Z,{fullWidth:!0,children:(0,x.jsx)(u.Z,{variant:"outlined",id:"plan_name",label:"Plan name",name:"plan_name",value:t,onChange:e=>{j(e.target.value)}})})}),(0,x.jsx)(c.ZP,{item:!0,xl:6,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:(0,x.jsx)(m.Z,{fullWidth:!0,children:(0,x.jsx)(u.Z,{variant:"outlined",id:"plan_type",label:"Plan type",name:"plan_type",value:_,onChange:e=>{g(e.target.value)},disabled:!0})})}),(0,x.jsx)(c.ZP,{item:!0,xl:6,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:(0,x.jsx)(m.Z,{fullWidth:!0,children:(0,x.jsx)(u.Z,{variant:"outlined",id:"radius",label:"Radius",name:"radius",value:Z,onChange:e=>{let a=e.target.value;(/^\d*$/.test(a)||""===a)&&v(a)}})})}),(0,x.jsx)(c.ZP,{item:!0,xl:6,lg:12,md:12,sm:12,xs:12,className:"mb-4 p-2",children:(0,x.jsx)(m.Z,{fullWidth:!0,children:(0,x.jsx)(u.Z,{variant:"outlined",id:"amount",label:"Amount",name:"amount",value:b,onChange:e=>{f(e.target.value)}})})}),(0,x.jsx)(c.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-2 p-2",children:(0,x.jsx)(m.Z,{fullWidth:!0,children:(0,x.jsx)(u.Z,{variant:"outlined",id:"plan_description",label:"Plan description",name:"plan_description",value:y,onChange:e=>{P(e.target.value)}})})}),(0,x.jsxs)(c.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"p-2",children:[(0,x.jsx)("strong",{children:(0,x.jsx)("span",{children:"Plan Includes"})}),(0,x.jsx)(r.Z,{className:"w-100",type:"text",value:N,onChange:e=>{C(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&""!==N.trim()&&(k((e=>[...e,N.trim()])),C(""))},placeholder:"Type and press Enter"}),(0,x.jsx)("ul",{className:"includes_plan",children:S.map(((e,a)=>(0,x.jsxs)("li",{children:[(0,x.jsx)(l.Z,{children:e}),(0,x.jsx)(s.Z,{className:"inner_close_btn",onClick:()=>(e=>{k((a=>{const t=[...a];return t.splice(e,1),t}))})(a),children:(0,x.jsx)(i.default,{})})]},a)))})]})]}),(0,x.jsx)(c.ZP,{container:!0,sx:{my:2},style:{textAlign:"center"},children:(0,x.jsx)(c.ZP,{item:!0,xs:12,children:(0,x.jsx)("div",{className:"text-end",children:(0,x.jsx)(o.Z,{className:"global_dashbtn",onClick:n=>{n.preventDefault();const l=""==N?S:[...S,N.trim()],s={plan_name:t,plan_type:_,radius:Z,amount:b,plan_description:y,included_point:l};fetch("".concat(p.ZP.url,"/admin/updatdataById/").concat(a._id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)},body:JSON.stringify(s)}).then((e=>e.json())).then((a=>{"Data Updated successfully"===a.message?((0,h.dr)("Data Updated successfully"),e("".concat(p.ZP.basename,"/utils/subscribtion"))):(0,h.YE)("SomeThing want wrong")}))},children:"Update"})})})})]})})})}},923195:(e,a,t)=>{var n=t(564836);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(t(945045)),s=t(346417),i=(0,l.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");a.default=i}}]);