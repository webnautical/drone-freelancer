"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[7895],{477895:(e,t,n)=>{n.r(t),n.d(t,{default:()=>C});var l=n(617592),s=(n(980281),n(366835)),a=n(624631),i=n(157861),c=n(770941),o=n(619438),r=n(751629),d=n(823477),h=n(924076),j=n(270501),x=n(731095),m=n(861689),g=n(557829),u=n(585281),p=n(747313),b=n(258467),v=n(536287),f=n(896217),w=n(782036),Z=n(346417);const _=(0,l.ZP)(c.Z)((e=>{let{theme:t}=e;return{["&.".concat(o.Z.head)]:{backgroundColor:"#1890ff",color:t.palette.common.white},["&.".concat(o.Z.body)]:{fontSize:14}}})),y=(0,l.ZP)(h.Z)((e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));function C(){const e=(0,b.s0)(),[t,n]=(0,p.useState)(!0),[l,c]=(0,p.useState)([]),[o,C]=(0,p.useState)([]),[N,S]=(0,p.useState)("");(0,p.useEffect)((()=>{(async()=>{n(!0);try{fetch("".concat(v.ZP.url,"/admin/getAllReviews"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)}}).then((e=>e.json())).then((e=>{console.log(e,"jsjsjsjsj"),"get data successfully"===e.message&&(c(e.getallreview),C(e.getallreview),n(!1)),n(!1)}))}catch(e){console.log(e),n(!1)}})()}),[]);return(0,Z.jsx)("div",{children:t?(0,Z.jsx)("div",{className:"loader",children:(0,Z.jsx)(g.Z,{sx:{display:"flex"},children:(0,Z.jsx)(u.Z,{size:60})})}):(0,Z.jsxs)(Z.Fragment,{children:[(0,Z.jsxs)("div",{className:"top_tab_bar",children:[(0,Z.jsx)("div",{children:(0,Z.jsx)("h2",{children:"Site Reviews"})}),(0,Z.jsxs)("div",{className:"select-box",children:[(0,Z.jsx)("div",{className:"input-box",children:(0,Z.jsx)(a.Z,{id:"demo-helper-text-aligned-no-helper ",label:"Search by name",value:N,onChange:e=>{const t=e.target.value;S(t);const n=o.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())));c(n)}})}),(0,Z.jsx)("div",{style:{textAlign:"right"},children:(0,Z.jsx)(x.Z,{className:"edit_btn action-btn d-block",onClick:()=>{e("".concat(v.ZP.basename,"/utils/addreview"))},children:(0,Z.jsx)("div",{className:"global_dashbtn",children:"Add New Reviews"})})})]})]}),(0,Z.jsx)(r.Z,{component:j.Z,children:(0,Z.jsxs)(s.Z,{sx:{minWidth:700},"aria-label":"customized table",className:"dahbard_table_inner",children:[(0,Z.jsx)(d.Z,{children:(0,Z.jsxs)(h.Z,{children:[(0,Z.jsx)(_,{align:"",children:"S.No."}),(0,Z.jsx)(_,{align:"",children:"Name"}),(0,Z.jsx)(_,{align:"",children:"Reviews"}),(0,Z.jsx)(_,{align:"",children:"Rating"}),(0,Z.jsx)(_,{align:"",children:"Action"})]})}),(0,Z.jsx)(i.Z,{children:l.map(((e,t)=>(0,Z.jsxs)(y,{children:[(0,Z.jsx)(_,{component:"th",scope:"row",align:"",children:t+1}),(0,Z.jsx)(_,{align:"",children:e.name}),(0,Z.jsx)(_,{align:"",children:e.reviews}),(0,Z.jsx)(_,{align:"",children:e.ratting}),(0,Z.jsx)(_,{align:"",children:(0,Z.jsx)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"",alignItems:"center",gap:"11px"},children:(0,Z.jsx)(x.Z,{className:"dlt_btn action-btn d-block",onClick:t=>{var l,s;l=t,s=e._id,l.preventDefault(),n(!0),console.log(s),fetch("".concat(v.ZP.url,"/admin/deletReviews/").concat(s),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)}}).then((e=>e.json())).then((e=>{console.log(e),"delet reviews successfully"===e.message&&(window.location.reload(),n(!1)),n(!1)}))},children:(0,Z.jsx)(m.Z,{title:"Delete",children:(0,Z.jsx)(f.default,{})})})})})]},e._id)))})]})}),(0,Z.jsx)(w.Ix,{position:"top-center"})]})})}}}]);