"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[8675],{518675:(e,s,l)=>{l.r(s),l.d(s,{default:()=>u});var a=l(731095),t=l(809019),i=l(301550),n=l(624631),r=l(815103),d=l(524256),c=l(51405),o=l(534628),m=l(258467),h=l(747313),x=l(536287),g=(l(980281),l(346417));function u(){const[e,s]=(0,h.useState)({name:"",reviews:"",ratting:0,role:""}),[l,u]=(0,h.useState)(""),j=(0,m.s0)(),[v,p]=(0,h.useState)(""),[Z,f]=(0,h.useState)(""),b=e=>{const{name:l,value:a}=e.target;s((e=>({...e,[l]:a})))};return(0,g.jsx)("div",{children:(0,g.jsx)(t.ZP,{container:!0,spacing:2,style:{justifyContent:"center"},children:(0,g.jsxs)(t.ZP,{item:!0,xl:8,lg:8,md:10,sm:12,className:"box",children:[(0,g.jsx)("h2",{className:"top_heading_pages_text text",children:"Add Reviews"}),(0,g.jsxs)(t.ZP,{className:"pages_global_background p-4",container:!0,children:[(0,g.jsx)(t.ZP,{item:!0,xs:12,className:"mb-3 p-2",children:(0,g.jsxs)(i.Z,{fullWidth:!0,children:[(0,g.jsx)("div",{className:"file-uploader",children:(0,g.jsxs)("label",{htmlFor:"file12",className:"global_file_upload_deisgn",children:[(0,g.jsx)(o.default,{}),"Add User Image",(0,g.jsx)("input",{type:"file",id:"file12",accept:"image/*",onChange:e=>{const s=e.target.files[0];if(s){const e=new FileReader;e.onload=e=>{const s=e.target.result;f(s)},e.readAsDataURL(s),p(s)}}})]})}),v&&(0,g.jsxs)("div",{className:"preview_upload",children:[(0,g.jsx)("h4",{children:"Image Preview"}),(0,g.jsx)("img",{src:Z,alt:"Selected"})]})]})}),(0,g.jsx)(t.ZP,{item:!0,xl:4,lg:4,md:12,sm:12,xs:12,className:"mb-3 p-2",children:(0,g.jsx)(i.Z,{fullWidth:!0,children:(0,g.jsx)(n.Z,{label:"name",variant:"outlined",id:"name",name:"name",value:e.name,onChange:b})})}),(0,g.jsx)(t.ZP,{item:!0,xl:4,lg:4,md:12,sm:12,xs:12,className:"mb-3 p-2",children:(0,g.jsx)(i.Z,{fullWidth:!0,children:(0,g.jsx)(n.Z,{required:!0,id:"ratting",name:"ratting",value:e.ratting,onChange:b,label:"ratting",variant:"outlined"})})}),(0,g.jsx)(t.ZP,{item:!0,xl:4,lg:4,md:12,sm:12,xs:12,className:"mb-3 p-2",children:(0,g.jsxs)(i.Z,{fullWidth:!0,children:[(0,g.jsx)(r.Z,{id:"suggestions-label",children:"Role"}),(0,g.jsxs)(d.Z,{labelId:"suggestions-label",id:"role",name:"role",value:e.role,onChange:b,variant:"outlined",children:[(0,g.jsx)(c.Z,{value:"Pilot",children:"Pilot"}),(0,g.jsx)(c.Z,{value:"Poster",children:"Poster"})]})]})}),(0,g.jsx)(t.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-3 p-2",children:(0,g.jsx)(i.Z,{fullWidth:!0,children:(0,g.jsx)(n.Z,{required:!0,id:"reviews",name:"reviews",value:e.reviews,onChange:e=>{const s=e.target.value.trim().split(/\s+/);if(s.length<=100)b(e);else{const l=s.slice(0,100).join(" "),a={...e,target:{...e.target,value:l}};b(a)}},label:"reviews",variant:"outlined",multiline:!0,rows:5})})})]}),(0,g.jsxs)(t.ZP,{container:!0,sx:{my:2},style:{textAlign:"end"},children:[(0,g.jsx)(t.ZP,{item:!0,xs:12,children:(0,g.jsx)(a.Z,{className:"global_dashbtn",onClick:()=>{console.log(null===Z||void 0===Z?void 0:Z.split(",").pop()),fetch("".concat(x.ZP.url,"/admin/addReviews"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)},body:JSON.stringify({name:e.name,reviews:e.reviews,ratting:e.ratting,role:e.role,image:null===Z||void 0===Z?void 0:Z.split(",").pop()})}).then((e=>e.json())).then((e=>{"Create reviews successfully"===e.message?j("".concat(x.ZP.basename,"/utils/sitereview")):u(e.message)}))},children:"Add"})}),(0,g.jsx)("h6",{className:"text-danger text-center",children:l})]})]})})})}}}]);