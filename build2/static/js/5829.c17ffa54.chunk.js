"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[5829],{65829:(e,a,n)=>{n.r(a),n.d(a,{default:()=>x});var l=n(258467),t=n(731095),s=n(947131),i=n(923195),r=n(809019),c=n(301550),d=n(624631),o=n(142461),m=n(747313),p=n(536287),u=(n(980281),n(346417));function x(){const[e,a]=(0,m.useState)({plan_name:"",plan_type:"",radius:"",amount:"",extra_location_per_amount:"",plan_description:""}),[n,x]=(0,m.useState)(""),_=(0,l.s0)();console.log(localStorage.getItem("jwt"));const h=n=>{const{name:l,value:t}=n.target;a({...e,[l]:t})},[j,g]=(0,m.useState)(""),[b,Z]=(0,m.useState)([]);return(0,u.jsx)("div",{children:(0,u.jsx)(r.ZP,{container:!0,style:{justifyContent:"center"},children:(0,u.jsxs)(r.ZP,{item:!0,xl:8,lg:6,md:12,xs:12,className:"box",children:[(0,u.jsx)("h2",{className:"top_heading_pages_text text",children:"Add New Plan"}),(0,u.jsxs)(r.ZP,{className:"pages_global_background p-4 ",container:!0,sx:{my:1},children:[(0,u.jsx)(r.ZP,{item:!0,xl:6,lg:12,md:12,xs:12,className:"mb-4 p-2",children:(0,u.jsx)(c.Z,{fullWidth:!0,children:(0,u.jsx)(d.Z,{label:"Plan Name",variant:"outlined",id:"plan_name",name:"plan_name",value:e.plan_name,onChange:h})})}),(0,u.jsx)(r.ZP,{item:!0,xl:6,lg:12,md:12,xs:12,className:"mb-4 p-2",children:(0,u.jsx)(c.Z,{fullWidth:!0,children:(0,u.jsx)(d.Z,{label:"Plan Type",variant:"outlined",id:"plan_type",name:"plan_type",value:e.plan_type,onChange:h})})}),(0,u.jsx)(r.ZP,{item:!0,xl:6,lg:12,md:12,xs:12,className:"mb-4 p-2",children:(0,u.jsx)(c.Z,{fullWidth:!0,children:(0,u.jsx)(d.Z,{label:"Radius",variant:"outlined",id:"radius",name:"radius",value:e.radius,onChange:h})})}),(0,u.jsx)(r.ZP,{item:!0,xl:6,lg:12,md:12,xs:12,className:"mb-4 p-2",children:(0,u.jsx)(c.Z,{fullWidth:!0,children:(0,u.jsx)(d.Z,{label:"Amount",variant:"outlined",id:"amount",name:"amount",value:e.amount,onChange:h})})}),(0,u.jsx)(r.ZP,{item:!0,xl:6,lg:12,md:12,xs:12,className:"mb-4 p-2",children:(0,u.jsx)(c.Z,{fullWidth:!0,children:(0,u.jsx)(d.Z,{label:"Extra location per category",variant:"outlined",id:"extra_location_per_amount",name:"extra_location_per_amount",type:"extra_location_per_amount",value:e.extra_location_per_amount,onChange:h})})}),(0,u.jsx)(r.ZP,{item:!0,xl:6,lg:12,md:12,xs:12,className:"mb-4 p-2",children:(0,u.jsx)(c.Z,{fullWidth:!0,children:(0,u.jsx)(d.Z,{label:"Plan description",variant:"outlined",id:"plan_description",name:"plan_description",type:"plan_description",value:e.plan_description,onChange:h})})}),(0,u.jsxs)(r.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-2 p-2",children:[(0,u.jsx)("strong",{children:(0,u.jsx)("span",{children:"Plan Includes"})}),(0,u.jsx)(o.Z,{className:"w-100",type:"text",value:j,onChange:e=>{g(e.target.value)},onKeyPress:e=>{"Enter"===e.key&&""!==j.trim()&&(Z((e=>[...e,j.trim()])),g(""))},placeholder:"Type and press Enter"}),(0,u.jsx)("ul",{className:"includes_plan",children:b.map(((e,a)=>(0,u.jsxs)("li",{children:[e,(0,u.jsx)(s.Z,{className:"inner_close_btn",onClick:()=>(e=>{Z((a=>{const n=[...a];return n.splice(e,1),n}))})(a),children:(0,u.jsx)(i.default,{})})]},a)))})]})]}),(0,u.jsxs)(r.ZP,{container:!0,sx:{my:2},style:{textAlign:"center"},children:[(0,u.jsx)(r.ZP,{item:!0,xs:12,children:(0,u.jsx)("div",{className:"text-end",children:(0,u.jsx)(t.Z,{className:"global_dashbtn",onClick:()=>{console.log(e),fetch("".concat(p.ZP.url,"/admin/createSubscriptionPlanbyAdmin"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)},body:JSON.stringify({plan_name:e.plan_name,plan_type:e.plan_type,radius:e.radius,amount:e.amount,plan_description:e.plan_description,extra_location_per_amount:e.extra_location_per_amount,included_point:b})}).then((e=>e.json())).then((e=>{console.log(e),"Create Subscription Plan successfully"===e.message?_("".concat(p.ZP.basename,"/utils/subscribtion")):x(e.message)}))},children:"Add plan"})})}),(0,u.jsx)("h6",{className:"text-danger text-center",children:n})]})]})})})}},923195:(e,a,n)=>{var l=n(564836);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var t=l(n(945045)),s=n(346417),i=(0,t.default)((0,s.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");a.default=i}}]);