"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[6779],{886779:(e,a,l)=>{l.r(a),l.d(a,{default:()=>x});var s=l(731095),t=l(534628),i=l(809019),n=l(301550),d=l(624631),o=l(747313),c=l(536287),r=l(636671),m=l(576733),u=l.n(m),h=l(999519),g=l(346417);function x(){const[e,a]=(0,o.useState)([]);console.log(e,"userRecord");const[l,m]=(0,o.useState)(!1),[x,p]=(0,o.useState)(null===e||void 0===e?void 0:e.title),[j,f]=(0,o.useState)(null===e||void 0===e?void 0:e.heading),[v,b]=(0,o.useState)(null===e||void 0===e?void 0:e.ptag),[_,N]=(0,o.useState)(null===e||void 0===e?void 0:e.baner),[Z,P]=(0,o.useState)(null===e||void 0===e?void 0:e.image_one),[y,S]=(0,o.useState)(null===e||void 0===e?void 0:e.image_two);console.log(Z,Z,"shhsh");(0,o.useEffect)((()=>{(async()=>{m(!0);try{fetch("".concat(c.ZP.url,"/admin/getaboutdata"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)}}).then((e=>e.json())).then((e=>{console.log(e,"data"),"get data successfully"===e.message&&a(e.getaboutus),m(!1)}))}catch(e){console.log(e),m(!1)}})()}),[]),(0,o.useEffect)((()=>{e?(p(null===e||void 0===e?void 0:e.title),f(null===e||void 0===e?void 0:e.heading),b(null===e||void 0===e?void 0:e.ptag),P(null===e||void 0===e?void 0:e.image_one),S(null===e||void 0===e?void 0:e.image_two),N(null===e||void 0===e?void 0:e.baner)):(p(""),f(""),b(""),S(""))}),[e]);return(0,g.jsx)("div",{children:(0,g.jsx)(i.ZP,{container:!0,style:{justifyContent:"center"},children:(0,g.jsxs)(i.ZP,{item:!0,xs:8,className:"box",children:[(0,g.jsx)("h2",{className:"top_heading_pages_text",children:"Update AboutUs content"}),(0,g.jsxs)(i.ZP,{className:"pages_global_background p-4",container:!0,sx:{my:1},children:[(0,g.jsx)(i.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-3 p-2",children:(0,g.jsxs)(n.Z,{fullWidth:!0,children:[(0,g.jsx)("div",{className:"file-uploader",children:(0,g.jsxs)("label",{htmlFor:"file15",className:"global_file_upload_deisgn",children:[(0,g.jsx)(t.default,{}),"Breadcrumb Image (Recommended size 1920px x 435px)",(0,g.jsx)("input",{type:"file",id:"file15",accept:"image/*",onChange:e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onload=e=>{const a=e.target.result;N(a)},e.readAsDataURL(a)}}})]})}),_&&(0,g.jsxs)("div",{className:"preview_upload",children:[(0,g.jsx)("h4",{children:"Image Preview"}),(0,g.jsx)("img",{src:_,alt:"Selected"})]})]})}),(0,g.jsxs)(i.ZP,{item:!0,xl:6,lg:6,md:12,sm:12,xs:12,className:"mb-3 p-2",children:[(0,g.jsx)("span",{className:"admin_label",children:"Title"}),(0,g.jsx)(n.Z,{fullWidth:!0,children:(0,g.jsx)(d.Z,{variant:"outlined",id:"title",name:"title",value:x,onChange:e=>{p(e.target.value)}})})]}),(0,g.jsxs)(i.ZP,{item:!0,xl:6,lg:6,md:12,sm:12,xs:12,className:"mb-3 p-2",children:[(0,g.jsx)("span",{className:"admin_label",children:"Heading"}),(0,g.jsx)(n.Z,{fullWidth:!0,children:(0,g.jsx)(d.Z,{variant:"outlined",id:"heading",name:"heading",value:j,onChange:e=>{f(e.target.value)}})})]}),(0,g.jsx)(i.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-3 p-2",children:(0,g.jsx)(r.CKEditor,{editor:u(),data:v,onChange:(e,a)=>{const l=a.getData();b(l)}})}),(0,g.jsx)(i.ZP,{item:!0,xl:6,lg:6,md:12,sm:12,xs:12,className:"mb-3 p-2",children:(0,g.jsxs)(n.Z,{fullWidth:!0,children:[(0,g.jsx)("div",{className:"file-uploader",children:(0,g.jsxs)("label",{htmlFor:"file13",className:"global_file_upload_deisgn",children:[(0,g.jsx)(t.default,{}),"Frist Image",(0,g.jsx)("input",{type:"file",id:"file13",accept:"image/*",onChange:e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onload=e=>{const a=e.target.result;P(a)},e.readAsDataURL(a)}}})]})}),Z&&(0,g.jsxs)("div",{className:"preview_upload",children:[(0,g.jsx)("h4",{children:"Image Preview"}),(0,g.jsx)("img",{src:Z,alt:"Selected"})]})]})}),(0,g.jsx)(i.ZP,{item:!0,xl:6,lg:6,md:12,sm:12,xs:12,className:"mb-3 p-2",children:(0,g.jsxs)(n.Z,{fullWidth:!0,children:[(0,g.jsx)("div",{className:"file-uploader",children:(0,g.jsxs)("label",{htmlFor:"file14",className:"global_file_upload_deisgn",children:[(0,g.jsx)(t.default,{}),"Second Image",(0,g.jsx)("input",{type:"file",id:"file14",accept:"image/*",onChange:e=>{const a=e.target.files[0];if(a){const e=new FileReader;e.onload=e=>{const a=e.target.result;S(a)},e.readAsDataURL(a)}}})]})}),y&&(0,g.jsxs)("div",{className:"preview_upload",children:[(0,g.jsx)("h4",{children:"Image Preview"}),(0,g.jsx)("img",{src:y,alt:"Selected"})]})]})})]}),(0,g.jsx)(i.ZP,{container:!0,sx:{my:2},style:{textAlign:"end"},children:(0,g.jsx)(i.ZP,{item:!0,xs:12,children:l?(0,g.jsxs)(s.Z,{className:"global_dashbtn",children:[(0,g.jsx)("div",{className:"spinner-border spinner-border-sm me-1",role:"status"})," Loading ..."]}):(0,g.jsx)(s.Z,{className:"global_dashbtn",onClick:()=>(()=>{m(!0);const a={title:x,heading:j,ptag:v,image_one:Z,image_two:y,baner:_};console.log(a,"updatedUser"),fetch("".concat(c.ZP.url,"/admin/updateaboutPageContent/").concat(e._id),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)},body:JSON.stringify(a)}).then((e=>e.json())).then((e=>{console.log(e),"aboutus content update successfully"===e.message?((0,h.dr)("aboutus content update successfully!"),m(!1)):((0,h.YE)("aboutus content not update successfully!"),m(!1)),m(!1)}))})(),children:"Update"})})})]})})})}}}]);