"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[4566],{414566:(e,a,s)=>{s.r(a),s.d(a,{default:()=>Z});var t=s(747313),i=s(261113),o=s(809019),l=s(528485),n=s(565280),d=s(557829),r=s(536287),c=s(738085),x=s(258467),h=s(701400),m=(s(333640),s(956230)),b=s(624631),j=s(51405),u=s(524256),g=s(43997),p=s(315950),w=s(999519),v=s(484488),y=s(346417);function _(e){const{children:a,value:s,index:t,...o}=e;return(0,y.jsx)("div",{role:"tabpanel",hidden:s!==t,id:"simple-tabpanel-".concat(t),"aria-labelledby":"simple-tab-".concat(t),...o,children:s===t&&(0,y.jsx)(d.Z,{sx:{p:3},children:(0,y.jsx)(i.Z,{children:a})})})}function N(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}function Z(){const e=(0,x.s0)(),[a,s]=t.useState(0),[Z,C]=(0,t.useState)(),[k,f]=(0,t.useState)(!1),[P,R]=(0,t.useState)([]),[S,A]=(0,t.useState)([]),[L,J]=(0,t.useState)([]),[T,E]=(0,t.useState)([]),[M,B]=(0,t.useState)([]),[D,I]=(0,t.useState)(!1),[z,F]=(0,t.useState)(!1),W=async()=>{f(!0);try{const e=await fetch("".concat(r.ZP.url,"/user/getAllPostedJobsByposter"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)}}),a=await e.json();if(200==a.status){const e=null===a||void 0===a?void 0:a.getpostedjob,s=e.filter((e=>"accepted"==e.status));A(s),J(s);const t=e.filter((e=>"pendding"==e.status));E(t),B(t),f(!1)}}catch(e){console.log(e),f(!1)}};(0,t.useEffect)((()=>{W(),(async()=>{try{const e=await fetch("".concat(r.ZP.url,"/admin/getAllJobCategory"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)}}),a=await e.json();200==a.status?R(a.getCategory):R([])}catch(e){console.log(e),R([])}})()}),[]);const Y=a=>{e("/user/jobs-details",{state:{data:a}})},[H,O]=(0,t.useState)({category:""}),V=(e,a)=>{if("title"==e&&""!=a){const e=T.filter((e=>e.job_details.name.toLowerCase().includes(a.toLowerCase())));B(e)}else B(T);if("category"==e&&""!=a){O({...H,category:a});const e=T.filter((e=>e.job_categoery_id==a));B(e)}else O({...H,category:""}),B(T)};return(0,y.jsxs)("div",{children:[(0,y.jsxs)(o.ZP,{Container:!0,children:[(0,y.jsx)(o.ZP,{item:!0,xs:12,sx:{mt:7.25},children:(0,y.jsx)(i.Z,{variant:"h5",className:"global_top_head",children:"Jobs"})}),(0,y.jsxs)(d.Z,{className:"job_btn_main",sx:{width:"100%"},children:[(0,y.jsx)(d.Z,{className:"tab_top_bar",sx:{borderColor:"divider"},children:(0,y.jsxs)(l.Z,{value:a,onChange:(e,a)=>{s(a)},"aria-label":"basic tabs example",children:[(0,y.jsx)(n.Z,{className:"job_btn",label:"Posted Jobs ".concat(T.length),...N(0)}),(0,y.jsx)(n.Z,{label:"Awarded Jobs ".concat(S.length),...N(1)})]})}),(0,y.jsxs)(_,{className:"tab_box_one",value:a,index:0,children:[(0,y.jsx)("div",{className:"search-container mb-3",children:(0,y.jsx)("div",{className:"box",children:(0,y.jsxs)(o.ZP,{container:!0,spacing:2,sx:{justifyContent:"flex-end",alignItems:"center"},children:[(0,y.jsx)("span",{children:(0,y.jsx)("button",{className:"chat_btn",onClick:()=>e("/user/postjob"),children:"Post a job"})}),(0,y.jsx)(o.ZP,{item:!0,xl:2,lg:2,md:2,xs:12,className:"pt-0",children:(0,y.jsx)(b.Z,{id:"outlined-search",label:"Search Job...",type:"search",onChange:e=>V("title",e.target.value),className:"w-100"})}),(0,y.jsx)(o.ZP,{item:!0,xl:2,lg:2,md:2,xs:12,className:"pt-0",children:(0,y.jsxs)(u.Z,{value:H.category,onChange:e=>V("category",e.target.value),displayEmpty:!0,name:"job_categoery_id",inputProps:{"aria-label":"Without label"},className:"w-100",children:[(0,y.jsx)(j.Z,{value:"",children:"Select Category"}),null===P||void 0===P?void 0:P.map((e=>(0,y.jsx)(j.Z,{value:e._id,children:e.category_name},e._id)))]})})]})})}),k?(0,y.jsxs)("div",{children:[(0,y.jsx)(o.ZP,{container:!0,spacing:2,className:"pilotjoblistbox job_list_box mb-4 mt-2 ",children:(0,y.jsxs)(o.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-3",children:[(0,y.jsx)(v.Z,{animation:"wave",style:{width:"40%",height:"40px",backgroundColor:"lightgray",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"70%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{animation:"wave",style:{width:"70%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"20%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"20%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}})]})]})}),(0,y.jsx)(o.ZP,{container:!0,spacing:2,className:"pilotjoblistbox job_list_box mb-4 mt-2 ",children:(0,y.jsxs)(o.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-3",children:[(0,y.jsx)(v.Z,{animation:"wave",style:{width:"40%",height:"40px",backgroundColor:"lightgray",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"70%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{animation:"wave",style:{width:"70%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"20%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"20%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}})]})]})}),(0,y.jsx)(o.ZP,{container:!0,spacing:2,className:"pilotjoblistbox job_list_box mb-4 mt-2 ",children:(0,y.jsxs)(o.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-3",children:[(0,y.jsx)(v.Z,{animation:"wave",style:{width:"40%",height:"40px",backgroundColor:"lightgray",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"70%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{animation:"wave",style:{width:"70%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"20%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"20%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}})]})]})})]}):(null===M||void 0===M?void 0:M.length)>0?null===M||void 0===M?void 0:M.map(((e,a)=>{var s;return(0,y.jsx)("div",{className:"job_list_box",children:(0,y.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,y.jsx)(o.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,children:(0,y.jsxs)("div",{className:"job_tittle_box",children:[(0,y.jsx)("h2",{children:e.job_details.name}),(0,y.jsx)("div",{dangerouslySetInnerHTML:{__html:null===(s=e.job_details)||void 0===s?void 0:s.task_description}})]})}),(0,y.jsx)(o.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,children:(0,y.jsxs)("div",{className:"job_option_main",children:[(0,y.jsxs)("div",{className:"job_option",children:[(0,y.jsx)("div",{className:"posted_date",children:(0,c.S)(e.created_at)}),(0,y.jsx)("div",{className:"job_amount",children:"pendding"==e.status?(0,y.jsx)("p",{className:"text-danger fw-bold",children:"Not Awarded"}):(0,y.jsx)("p",{className:"text-success fw-bold",children:"Awarded"})})]}),(0,y.jsx)("div",{className:"view_btn",children:(0,y.jsx)("button",{className:"global_btn",onClick:()=>Y(e),children:"View Details"})}),(0,y.jsx)("div",{className:"drop_down_menu",children:(0,y.jsxs)(h.Z,{children:[(0,y.jsx)(h.Z.Toggle,{id:"dropdown-basic",children:(0,y.jsx)(g.default,{})}),(0,y.jsx)(h.Z.Menu,{children:(0,y.jsx)(h.Z.Item,{onClick:()=>{I(!0),C(e._id)},children:"Delete"})})]})})]})})]})},a)})):(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(m.Z,{title:(0,y.jsxs)("div",{className:"global_no_data",children:["No jobs posted yet.",(0,y.jsx)("span",{children:"Looks like you haven't posted any jobs yet."})]})})})]}),(0,y.jsxs)(_,{className:"tab_box_two",value:a,index:1,children:[(0,y.jsx)("div",{className:"search-container text-end mb-3",children:(0,y.jsx)("div",{className:"box",children:(0,y.jsx)(b.Z,{id:"outlined-search",label:"Search Job...",type:"search",onChange:e=>(e=>{if(""!=e){const a=S.filter((a=>a.job_details.name.toLowerCase().includes(e.toLowerCase())));J(a)}else J(S)})(e.target.value)})})}),k?(0,y.jsxs)("div",{children:[(0,y.jsx)(o.ZP,{container:!0,spacing:2,className:"pilotjoblistbox job_list_box mb-4 mt-2 ",children:(0,y.jsxs)(o.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-3",children:[(0,y.jsx)(v.Z,{animation:"wave",style:{width:"40%",height:"40px",backgroundColor:"lightgray",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"70%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{animation:"wave",style:{width:"70%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"20%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"20%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}})]})]})}),(0,y.jsx)(o.ZP,{container:!0,spacing:2,className:"pilotjoblistbox job_list_box mb-4 mt-2 ",children:(0,y.jsxs)(o.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-3",children:[(0,y.jsx)(v.Z,{animation:"wave",style:{width:"40%",height:"40px",backgroundColor:"lightgray",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"70%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{animation:"wave",style:{width:"70%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"20%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"20%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}})]})]})}),(0,y.jsx)(o.ZP,{container:!0,spacing:2,className:"pilotjoblistbox job_list_box mb-4 mt-2 ",children:(0,y.jsxs)(o.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,className:"mb-3",children:[(0,y.jsx)(v.Z,{animation:"wave",style:{width:"40%",height:"40px",backgroundColor:"lightgray",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"70%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{animation:"wave",style:{width:"70%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"20%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}}),(0,y.jsx)(v.Z,{className:"mt-2",animation:"wave",style:{width:"20%",height:"20px",backgroundColor:"#e3e3e3",borderRadius:"4px"}})]})]})})]}):(null===L||void 0===L?void 0:L.length)>0?null===L||void 0===L?void 0:L.map(((e,a)=>{var s;return(0,y.jsx)("div",{className:"job_list_box",children:(0,y.jsxs)(o.ZP,{container:!0,spacing:2,children:[(0,y.jsx)(o.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,children:(0,y.jsxs)("div",{className:"job_tittle_box",children:[(0,y.jsx)("h2",{children:e.job_details.name}),(0,y.jsx)("div",{dangerouslySetInnerHTML:{__html:null===(s=e.job_details)||void 0===s?void 0:s.task_description}})]})}),(0,y.jsx)(o.ZP,{item:!0,xl:12,lg:12,md:12,sm:12,xs:12,children:(0,y.jsxs)("div",{className:"job_option_main",children:[(0,y.jsxs)("div",{className:"job_option",children:[(0,y.jsx)("div",{className:"posted_date",children:(0,c.S)(e.created_at)}),(0,y.jsx)("div",{className:"job_amount",children:"pendding"==e.status?(0,y.jsx)("p",{className:"text-danger fw-bold",children:"Not Awarded"}):(0,y.jsx)("p",{className:"text-success fw-bold",children:"Awarded"})})]}),(0,y.jsx)("div",{className:"view_btn",children:(0,y.jsx)("button",{className:"global_btn",onClick:()=>Y(e),children:"View Details"})})]})})]})},a)})):(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(m.Z,{title:(0,y.jsxs)("div",{className:"global_no_data",children:["No awarded jobs yet.",(0,y.jsx)("span",{children:"Looks like you haven't awarded any jobs yet."})]})})})]})]})]}),(0,y.jsx)(p.Z,{showModal:D,setShowModal:I,submitLoading:z,handleFunc:async()=>{F(!0);try{const e=await fetch("".concat(r.ZP.url,"/user/deleteJobById/").concat(Z),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.jwt)}});200==(await e.json()).status?((0,w.dr)("Job Delete Succesfully !!"),W(),F(!1),I(!1)):((0,w.YE)("Something Wen't Wrong !!"),F(!1))}catch(e){console.log(e),F(!1)}},modalMsg:"Are You Sure ?, You want to delete it."})]})}}}]);