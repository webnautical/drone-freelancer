"use strict";(self.webpackChunkmantis_free_react_admin_template=self.webpackChunkmantis_free_react_admin_template||[]).push([[6719],{606719:(e,s,a)=>{a.r(s),a.d(s,{default:()=>u});var t=a(747313),l=a(809019),n=a(261113),r=a(258467),i=a(999519),o=a(51405),c=a(301550),m=a(524256),d=a(700203),x=a(513827),p=a(536287),h=a(346417);const u=()=>{var e;const s=(0,r.s0)(),a=(0,r.TH)(),u=null===a||void 0===a||null===(e=a.state)||void 0===e?void 0:e.data;console.log("posterInfo",u);const[j,N]=(0,t.useState)(!1),[g,v]=(0,t.useState)([]),[f,_]=(0,t.useState)({first_name:u.first_name,last_name:u.last_name,phone:u.phone,image:u.image?u.image:i.Q3,street:u.street,state:u.state?u.state:"Australia",country:u.country}),P=e=>{_({...f,[e.target.name]:e.target.value})},[b,y]=(0,t.useState)(f.image);(0,t.useEffect)((()=>{Z()}),[]);const Z=()=>{const e=null===d.ZP||void 0===d.ZP?void 0:d.ZP.getStatesOfCountry("AU").map((e=>({value:e.name,displayValue:e.name})));v(e)};return(0,h.jsx)("div",{children:(0,h.jsxs)(l.ZP,{className:"profile_edit_poster",container:!0,spacing:2,children:[(0,h.jsx)(l.ZP,{item:!0,xs:12,sx:{mt:7.25},children:(0,h.jsx)(n.Z,{variant:"h5",className:"global_top_head",children:"Edit Profile"})}),(0,h.jsx)(l.ZP,{item:!0,xl:12,children:(0,h.jsxs)(l.ZP,{className:"task_details top_box",item:!0,xl:12,lg:12,md:12,sm:12,xs:12,children:[(0,h.jsx)(l.ZP,{xl:12,lg:12,md:12,sm:12,xs:12,children:(0,h.jsx)("div",{className:"profile",children:(0,h.jsxs)("div",{className:"upload",children:[(0,h.jsx)("img",{src:b,style:{width:"120px",height:"120px"},alt:"sdf"}),(0,h.jsxs)("div",{className:"round",children:[" ",(0,h.jsx)("input",{type:"file",onChange:e=>{const s=e.target.files[0];if(s){const e=new FileReader;e.onloadend=()=>{y(e.result),_({...f,image:e.result.split(",")[1]})},e.readAsDataURL(s)}}}),(0,h.jsx)(x.default,{})]})]})})}),(0,h.jsxs)(l.ZP,{className:"mt-5",container:!0,spacing:2,children:[(0,h.jsx)(l.ZP,{item:!0,xs:4,children:(0,h.jsxs)("div",{className:"group  error",children:[(0,h.jsx)("input",{className:"inputMaterial",value:f.first_name,onChange:P,type:"text",name:"first_name",placeholder:"Enter Your First Name"})," ",(0,h.jsx)("label",{htmlFor:"firstName",children:"First Name"}),(0,h.jsx)("span",{className:"bar"})]})}),(0,h.jsx)(l.ZP,{item:!0,xs:4,children:(0,h.jsxs)("div",{className:"group  error",children:[(0,h.jsx)("input",{className:"inputMaterial",type:"text",value:f.last_name,onChange:P,name:"last_name",placeholder:"Enter Your Last Name"})," ",(0,h.jsx)("label",{htmlFor:"firstName",children:"Last Name"}),(0,h.jsx)("span",{className:"bar"})]})}),(0,h.jsx)(l.ZP,{item:!0,xs:4,children:(0,h.jsxs)("div",{className:"group  error",children:[(0,h.jsx)("input",{className:"inputMaterial",type:"text",value:f.phone,onChange:P,name:"phone",placeholder:"Enter Your Phone"})," ",(0,h.jsx)("label",{htmlFor:"firstName",children:"Phone"}),(0,h.jsx)("span",{className:"bar"})]})}),(0,h.jsx)(l.ZP,{item:!0,xs:4,children:(0,h.jsxs)("div",{className:"group  error",children:[(0,h.jsx)("input",{className:"inputMaterial",type:"text",value:"Australia",readOnly:!0})," ",(0,h.jsx)("span",{className:"bar"})]})}),(0,h.jsx)(l.ZP,{item:!0,xs:4,children:(0,h.jsxs)(c.Z,{sx:{m:1,minWidth:120},className:"normal_select",children:[(0,h.jsx)("span",{className:"top_text",children:"State"}),(0,h.jsx)(m.Z,{value:f.state,onChange:P,displayEmpty:!0,name:"state",inputProps:{"aria-label":"Without label"},className:"normal_select",children:null===g||void 0===g?void 0:g.map(((e,s)=>(0,h.jsx)(o.Z,{value:e.value,children:e.displayValue},s)))})]})}),(0,h.jsx)(l.ZP,{item:!0,xs:4,children:(0,h.jsxs)("div",{className:"group  error",children:[(0,h.jsx)("input",{className:"inputMaterial",type:"text",value:f.street,onChange:P,name:"street",placeholder:"Enter Your street"})," ",(0,h.jsx)("label",{htmlFor:"firstName",children:"Street"}),(0,h.jsx)("span",{className:"bar"})]})}),(0,h.jsx)(l.ZP,{item:!0,xs:12,children:(0,h.jsx)("div",{className:"text-end",children:j?(0,h.jsxs)("button",{className:"global_btn",children:[(0,h.jsx)("div",{className:"spinner-border spinner-border-sm me-1",role:"status"})," Loading ..."]}):(0,h.jsx)("button",{className:"global_btn",onClick:()=>(async()=>{N(!0);try{const e=await fetch("".concat(p.ZP.url,"/admin/updatePosterProfileByadmin/").concat(null===u||void 0===u?void 0:u._id),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f)});200==(await e.json()).status?(s("/admin/utils/posterlist"),(0,i.dr)("Profile Updated Succesfully !!"),N(!1)):((0,i.YE)("Something Went Wrong !!"),N(!1))}catch(e){console.log(e),(0,i.YE)("Something Went Wrong !!"),N(!1)}})(),children:"Update"})})})]})]})})]})})}}}]);